(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ada0270"],{1836:function(t,e,o){"use strict";o("d19a")},7533:function(t,e,o){"use strict";o.r(e);o("b0c0");var i=o("7a23"),n={style:{"margin-bottom":"10px"}},s={key:0,style:{"text-align":"center"}},a=Object(i["createTextVNode"])("提交"),l={key:1,style:{"font-size":"16px",color:"#939292"}},r={class:"f-loading"};function c(t,e,o,c,d,f){var m=Object(i["resolveComponent"])("vol-form"),p=Object(i["resolveComponent"])("vol-table"),b=Object(i["resolveComponent"])("el-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[d.loading?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,labelWidth:300,class:"submit-form",style:Object(i["normalizeStyle"])({width:d.formWidth+"px"})},[Object(i["createElementVNode"])("h3",null,Object(i["toDisplayString"])(d.title),1),Object(i["createVNode"])(m,{ref:"form",labelPosition:"top",labelWidth:0,"load-key":!0,formFields:d.options.fields,formRules:d.options.formOptions},null,8,["formFields","formRules"]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(d.options.tables,(function(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{style:{margin:"20px 0"},key:e},[Object(i["createElementVNode"])("h4",n,Object(i["toDisplayString"])(t.name),1),Object(i["createVNode"])(p,{url:t.url,"load-key":!1,index:!0,ref_for:!0,ref:"table"+e,tableData:t.tableData,columns:t.columns,"max-height":250,"pagination-hide":t.pagination,"column-index":!0,ck:!0},null,8,["url","tableData","columns","pagination-hide"])])})),128)),d.hasId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s,[Object(i["createVNode"])(b,{type:"primary",onClick:f.submit},{default:Object(i["withCtx"])((function(){return[a]})),_:1},8,["onClick"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",l,"未获取到参数"))],4)),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",r,"正在加载中...",512),[[i["vShow"],d.loading]])])}var d=o("53ca"),f=(o("a15b"),o("159b"),o("6e5b")),m=o("0b13"),p={components:{"vol-form":f["a"],"vol-table":m["a"]},data:function(){return{hasId:!1,loading:!0,formWidth:300,title:"",options:{fields:{FormId:void 0},formOptions:[],tables:[],tabs:[]}}},methods:{submit:function(){var t=this;this.$refs.form.validate((function(){var e={};for(var o in t.options.fields)e[o]=t.options.fields[o]&&"object"==Object(d["a"])(t.options.fields[o])?t.options.fields[o].join(","):t.options.fields[o];t.http.post("api/formDesignOptions/submit",{mainData:{FormData:JSON.stringify(e),FormId:t.options.fields.FormId}},!0).then((function(e){if(!e.status)return t.$message.error(e.message);t.$Message.success("提交成功"),t.$router.push({path:"/message",text:"提交成功"})}))}))},initIndex:function(){var t=1;this.options.formOptions.forEach((function(e){e.forEach((function(t){t.data&&(t.data=[])})),e.length>t&&(t=e.length)})),this.options.tables.length?this.formWidth=800:this.formWidth=1===t?450:300*t,1==t&&this.options.formOptions.forEach((function(t,e){t[0].placeholder=t[0].title,t[0].title=e+1+"、"+t[0].title}))}},created:function(){var t=this;this.options.fields.FormId=this.$route.query.id,this.hasId=!!this.options.fields.FormId;var e="api/formDesignOptions/getFormOptions?id="+this.$route.query.id;this.http.get(e,{},!0).then((function(e){if(!e.data.formOptions)return t.$message.error("未获取到配置信息");var o=JSON.parse(e.data.formOptions);t.options.formOptions=o.formOptions,Object.assign(t.options.fields,o.fields),t.options.tables=o.tables,t.initIndex(),t.title=e.data.title,t.loading=!1}))}},b=(o("1836"),o("d959")),u=o.n(b);const h=u()(p,[["render",c],["__scopeId","data-v-dad42b22"]]);e["default"]=h},d19a:function(t,e,o){}}]);