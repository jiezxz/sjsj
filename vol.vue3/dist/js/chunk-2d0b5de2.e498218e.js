(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5de2"],{"1b72":function(e,t,i){"use strict";i.r(t);var n=i("7a23");function r(e,t,i,r,d,l){var a=Object(n["resolveComponent"])("view-grid");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{ref:"grid",columns:e.columns,detail:e.detail,editFormFields:e.editFormFields,editFormOptions:e.editFormOptions,searchFormFields:e.searchFormFields,searchFormOptions:e.searchFormOptions,table:e.table,extend:e.extend},null,8,["columns","detail","editFormFields","editFormOptions","searchFormFields","searchFormOptions","table","extend"])}i("159b"),i("d81d");var d={components:{gridHeader:"",gridBody:"",gridFooter:"",modelHeader:"",modelBody:"",modelFooter:""},tableAction:"",buttons:{view:[],box:[],detail:[]},methods:{onInit:function(){this.rowKey="DepartmentId"},loadTreeChildren:function(e,t,i){var n="api/Sys_Department/getTreeTableChildrenData?departmentId=".concat(e.DepartmentId);this.http.post(n,{}).then((function(e){i(e.rows)}))},searchBefore:function(e){return e.wheres.length||(e.value=1),!0},onInited:function(){var e,t,i,r=this;this.buttons.forEach((function(n){"Update"==n.value?(n.hidden=!0,e=!0):"Delete"==n.value?(t=!0,n.hidden=!0):"Add"==n.value&&(n.type="primary",i=!0)})),(e||t||i)&&this.columns.push({title:"操作",field:"操作",width:80,fixed:"right",align:"center",render:function(d,l){var a=l.row;l.column,l.index;return Object(n["createVNode"])("div",null,[Object(n["withDirectives"])(Object(n["createVNode"])(Object(n["resolveComponent"])("el-button"),{onClick:function(e){r.addBtnClick(a)},type:"primary",link:!0,icon:"Plus"},null),[[n["vShow"],i]]),Object(n["withDirectives"])(Object(n["createVNode"])(Object(n["resolveComponent"])("el-button"),{onClick:function(e){r.edit(a)},type:"success",link:!0,icon:"Edit"},null),[[n["vShow"],e]]),Object(n["createVNode"])(Object(n["resolveComponent"])("el-tooltip"),{class:"box-item",effect:"dark",content:"删除",placement:"top"},{default:function(){return[Object(n["withDirectives"])(Object(n["createVNode"])(Object(n["resolveComponent"])("el-button"),{link:!0,onClick:function(e){r.del(a)},type:"danger",icon:"Delete"},null),[[n["vShow"],t]])]}})])}})},addBtnClick:function(e){this.addCurrnetRow=e,this.add()},addAfter:function(){return this.initDicKeys(),!0},updateAfter:function(){return this.initDicKeys(),!0},delAfter:function(e){return this.initDicKeys(),!0},modelOpenAfter:function(e){if(this.addCurrnetRow){var t=[];this.editFormOptions.forEach((function(e){e.forEach((function(e){"ParentId"==e.field&&(t=e.orginData)}))}));var i=this.base.getTreeAllParent(this.addCurrnetRow.DepartmentId,t).map((function(e){return e.id}));this.editFormFields.ParentId=i,this.addCurrnetRow=null}}}},l=d,a=Object(n["defineComponent"])({setup:function(){var e=Object(n["ref"])({key:"DepartmentId",footer:"Foots",cnName:"组织架构",name:"system/Sys_Department",url:"/Sys_Department/",sortName:"CreateDate"}),t=Object(n["ref"])({DepartmentName:"",DepartmentCode:"",ParentId:[],Remark:""}),i=Object(n["ref"])([[{title:"组织名称",required:!0,field:"DepartmentName"}],[{title:"组织编号",field:"DepartmentCode"}],[{dataKey:"组织机构",data:[],title:"上级组织",field:"ParentId",type:"cascader"}],[{title:"备注",field:"Remark",type:"textarea"}]]),r=Object(n["ref"])({DepartmentName:"",DepartmentCode:"",Creator:"",CreateDate:""}),d=Object(n["ref"])([[{title:"组织名称",field:"DepartmentName",type:"like"},{title:"组织编号",field:"DepartmentCode"},{title:"创建人",field:"Creator"},{title:"创建时间",field:"CreateDate",type:"datetime"}]]),a=Object(n["ref"])([{field:"DepartmentId",title:"DepartmentId",type:"guid",width:110,hidden:!0,readonly:!0,require:!0,align:"left"},{field:"DepartmentName",title:"组织名称",type:"string",link:!0,width:180,require:!0,align:"left",sort:!0},{field:"DepartmentCode",title:"组织编号",type:"string",width:90,align:"left"},{field:"ParentId",title:"上级组织",type:"guid",bind:{key:"组织机构",data:[]},width:110,hidden:!0,align:"left"},{field:"DepartmentType",title:"组织类型",type:"string",width:110,hidden:!0,align:"left"},{field:"Enable",title:"是否可用",type:"int",width:110,hidden:!0,align:"left"},{field:"Remark",title:"备注",type:"string",width:100,align:"left"},{field:"CreateID",title:"CreateID",type:"int",width:100,hidden:!0,align:"left"},{field:"Creator",title:"创建人",type:"string",width:90,align:"left"},{field:"CreateDate",title:"创建时间",type:"datetime",width:145,align:"left",sort:!0},{field:"ModifyID",title:"ModifyID",type:"int",width:100,hidden:!0,align:"left"},{field:"Modifier",title:"修改人",type:"string",width:90,align:"left"},{field:"ModifyDate",title:"修改时间",type:"datetime",width:140,align:"left",sort:!0}]),o=Object(n["ref"])({cnName:"#detailCnName",table:"#detailTable",columns:[],sortName:"",key:""});return{table:e,extend:l,editFormFields:t,editFormOptions:i,searchFormFields:r,searchFormOptions:d,columns:a,detail:o}}}),o=i("d959"),c=i.n(o);const s=c()(a,[["render",r]]);t["default"]=s}}]);