(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61f8bb6e"],{"611d":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),s=function(e){return Object(o["pushScopeId"])("data-v-c1e7b140"),e=e(),Object(o["popScopeId"])(),e},c={class:"message-container"},r={style:{padding:"0 0 20px 10px"}},i=s((function(){return Object(o["createElementVNode"])("p",null," 1、目前只是用来处理首页消息发送,可参照Index.vue与HomePageMessageHub.cs ",-1)})),a=s((function(){return Object(o["createElementVNode"])("p",null," 2、文档见：https://docs.microsoft.com/zh-cn/aspnet/core/signalr/introduction?view=aspnetcore-3.1 ",-1)})),l={class:"btns"},d=s((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-chat-line-round"},null,-1)})),u=Object(o["createTextVNode"])("发送消息");function m(e,t,n,s,m,f){var p=Object(o["resolveComponent"])("el-alert"),b=Object(o["resolveComponent"])("vol-form"),h=Object(o["resolveComponent"])("el-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(p,{title:"关于signalR使用",type:"success","show-icon":""},{default:Object(o["withCtx"])((function(){return[i,a]})),_:1})]),Object(o["createVNode"])(b,{ref:"form",formRules:m.formOptions,labelWidth:90,formFields:m.formFields},null,8,["formRules","formFields"]),Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(h,{type:"primary",onClick:f.sendMessage},{default:Object(o["withCtx"])((function(){return[d,u]})),_:1},8,["onClick"])])])}n("99af");var f,p=n("bad4"),b=n("6e5b"),h={components:{"vol-form":b["a"]},data:function(){return{message:"",size:{minRows:8,maxRows:30},formOptions:[[{title:"登陆账号",required:!0,field:"userName"}],[{title:"消息标题",required:!0,field:"title"}],[{title:"消息内容",required:!0,field:"message",type:"textarea",minRows:10}]],formFields:{userName:"admin666",title:"发送标题",message:""}}},methods:{sendMessage:function(){f.invoke("sendHomeMessage",this.formFields.userName,this.formFields.title,this.formFields.message||"无"),this.$message.success("消息发送成功")}},created:function(){},mounted:function(){var e=this;this.http.post("api/user/GetCurrentUserInfo").then((function(t){f=(new p["a"]).withAutomaticReconnect().withUrl("".concat(e.http.ipAddress,"message?userName=").concat(t.data.userName)).build(),f.qs={test:123},f.start().catch((function(e){return alert(e.message)})),f.onreconnected((function(e){console.log(e)}));var n=e;f.on("ReceiveHomePageMessage",(function(e){n.$notify.info({title:"消息",message:e+""})}))}))}},g=(n("a7d4"),n("d959")),O=n.n(g);const v=O()(h,[["render",m],["__scopeId","data-v-c1e7b140"]]);t["default"]=v},6823:function(e,t,n){},a7d4:function(e,t,n){"use strict";n("6823")}}]);