(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b08ff8f","chunk-3187c104"],{"0d63":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=function(e){return Object(o["pushScopeId"])("data-v-0463adc6"),e=e(),Object(o["popScopeId"])(),e},l={class:"vol-dialog"},i=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon el-icon-full-screen"},null,-1)})),r=[i],a={key:0,class:"dia-footer"},u=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-close"},null,-1)})),d=Object(o["createTextVNode"])("关闭");function s(e,t,n,c,i,s){var f=Object(o["resolveComponent"])("el-scrollbar"),b=Object(o["resolveComponent"])("el-button"),m=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(m,{modelValue:e.vmodel,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.vmodel=t}),"close-on-click-modal":!1,"close-on-press-escape":!1,width:e.width,fullscreen:e.fullscreen,draggable:e.draggable,modal:e.modal,"before-close":e.handleClose},{header:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(e.icon)},null,2),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.title)+" ",1),Object(o["createElementVNode"])("button",{class:"el-dialog__headerbtn",type:"button",style:{right:"35px",color:"var(--el-color-info)"},onClick:t[0]||(t[0]=function(){return e.handleFullScreen&&e.handleFullScreen.apply(e,arguments)})},r)]})),footer:Object(o["withCtx"])((function(){return[e.footer?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0),e.footer?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,type:"primary",size:"mini",onClick:t[1]||(t[1]=function(t){return e.handleClose()})},{default:Object(o["withCtx"])((function(){return[u,d]})),_:1}))])):Object(o["createCommentVNode"])("",!0)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{"max-height":e.contentHeight},{default:Object(o["withCtx"])((function(){return[e.inited?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,style:Object(o["normalizeStyle"])([{"min-height":"50px"},{padding:e.padding+"px"}]),class:"srcoll-content"},[Object(o["renderSlot"])(e.$slots,"content",{},void 0,!0),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],4)):Object(o["createCommentVNode"])("",!0)]})),_:3},8,["max-height"])]})),_:3},8,["modelValue","width","fullscreen","draggable","modal","before-close"])])}n("a9e3");var f=Object(o["defineComponent"])({props:{modelValue:!1,lazy:{type:Boolean,default:!1},icon:{type:String,default:"el-icon-warning-outline"},title:{type:String,default:"基本信息"},height:{type:Number,default:200},width:{type:Number,default:650},padding:{type:Number,default:16},modal:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},onModelClose:{type:Function,default:function(e){return!0}},footer:{type:Boolean,default:!0}},setup:function(e,t){var n=.95*document.body.clientHeight-60,c=Object(o["ref"])(!0),l=Object(o["ref"])(!1),i=Object(o["ref"])(!1),r=Object(o["ref"])(100);l.value=e.modelValue,i.value=!!t.slots.footer;var a=Object(o["ref"])(200);a.value=e.height;var u=function(n,o){var c=e.onModelClose(!!o);!1!==c&&(l.value=!1,t.emit("update:modelValue",!1),n&&n())},d=function(e){return a.value=n-30,n/-2+"px"};r.value=d(),Object(o["watch"])((function(){return e.modelValue}),(function(e,t){l.value=e})),Object(o["watch"])((function(){return e.height}),(function(e,t){r.value=d()}));var s=Object(o["ref"])(!1),f=function(){s.value=!s.value,t.emit("fullscreen",s.value)};return{handleClose:u,inited:c,vmodel:l,footer:i,top:r,calcHeight:d,contentHeight:a,fullscreen:s,handleFullScreen:f}}}),b=(n("19bb"),n("a80f"),n("6b0d")),m=n.n(b);const p=m()(f,[["render",s],["__scopeId","data-v-0463adc6"]]);t["default"]=p},1859:function(e,t,n){"use strict";n("7848")},"19bb":function(e,t,n){"use strict";n("9d79")},"4c04":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=function(e){return Object(o["pushScopeId"])("data-v-5728659a"),e=e(),Object(o["popScopeId"])(),e},l={class:"menu-container"},i=Object(o["createTextVNode"])("确 认"),r=Object(o["createTextVNode"])(" 配置的其他权限 "),a=c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),u=Object(o["createTextVNode"])("1、添加新的权限后请在vue项目中config文件夹下buttns.js添加此权限的按钮。 "),d=c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),s=Object(o["createTextVNode"])("2、如果权限只在某少数几个功能中使用,在vue的对应页面扩展extension文件找到对应js,添加到el-buttons对象中,格式同config文件夹下buttns.js一样。 "),f=Object(o["createTextVNode"])("确 认"),b={class:"menu-left"},m=c((function(){return Object(o["createElementVNode"])("div",{class:"m-title"},[Object(o["createElementVNode"])("i",{class:"el-icon-warning-outline"}),Object(o["createTextVNode"])("菜单列表")],-1)})),p={class:"menu-right"},h=c((function(){return Object(o["createElementVNode"])("div",null," 1、如果是用代码生器生成的Vue页面,Url为Vue项目中src->router->viewGrid.js对应表名的path属性 ",-1)})),O=c((function(){return Object(o["createElementVNode"])("div",{style:{"padding-top":"5px"}}," 2、 如果只是建一级菜单或空菜单url不用填写,【视图/表名】填写.或者/ ",-1)})),j={style:{padding:"0px 30px 0 20px"}},v={class:"auth-group"},g=c((function(){return Object(o["createElementVNode"])("label",{style:{width:"100px"}},"权限按钮：",-1)})),k={class:"ck"},y={style:{"padding-left":"100px"}},C=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-check"},null,-1)})),x=Object(o["createTextVNode"])("全 选"),V=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-plus"},null,-1)})),N=Object(o["createTextVNode"])("其他权限"),w={class:"m-btn"},B=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-check"},null,-1)})),I=Object(o["createTextVNode"])("保存"),E=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-plus"},null,-1)})),S=Object(o["createTextVNode"])("新建"),_=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-plus"},null,-1)})),T=Object(o["createTextVNode"])("添加子级"),F=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-circle-plus"},null,-1)})),M=Object(o["createTextVNode"])(" 添加同级"),A=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-delete"},null,-1)})),z=Object(o["createTextVNode"])(" 删除菜单");function q(e,t,n,c,q,$){var D=Object(o["resolveComponent"])("Icons"),U=Object(o["resolveComponent"])("el-button"),R=Object(o["resolveComponent"])("vol-box"),J=Object(o["resolveComponent"])("el-alert"),L=Object(o["resolveComponent"])("vol-form"),H=Object(o["resolveComponent"])("VolMenu"),P=Object(o["resolveComponent"])("el-scrollbar"),G=Object(o["resolveComponent"])("el-checkbox"),K=Object(o["resolveComponent"])("el-checkbox-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(R,{width:940,mask:!0,height:500,title:"图标列表",modelValue:e.model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.model=t})},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(U,{type:"primary",size:"mini",onClick:t[0]||(t[0]=function(t){return e.model=!1})},{default:Object(o["withCtx"])((function(){return[i]})),_:1})]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{onSelect:e.onSelect},null,8,["onSelect"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(R,{width:600,mask:!0,height:270,title:"其他权限",modelValue:e.actionModel,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.actionModel=t})},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(U,{type:"primary",size:"mini",onClick:e.otherAction},{default:Object(o["withCtx"])((function(){return[f]})),_:1},8,["onClick"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{ref:"actionForm",formRules:e.actionOptions,formFields:e.actionFields},{header:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(J,{"show-icon":"",type:"success"},{default:Object(o["withCtx"])((function(){return[r,a,u,d,s]})),_:1})])]})),_:1},8,["formRules","formFields"])]})),_:1},8,["modelValue"]),Object(o["createElementVNode"])("div",b,[m,Object(o["createVNode"])(P,{style:{height:"100%",width:"200px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(H,{onSelect:e.getTreeItem,list:e.tree,isCollapse:!1},null,8,["onSelect","list"])]})),_:1})]),Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(P,{style:{height:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(J,{title:"菜单配置说明",type:"warning",closable:!1,"show-icon":""},{default:Object(o["withCtx"])((function(){return[h,O]})),_:1}),Object(o["createElementVNode"])("div",j,[Object(o["createVNode"])(L,{class:"form-content",ref:"form",formRules:e.options,formFields:e.fields},null,8,["formRules","formFields"]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",v,[g,Object(o["createElementVNode"])("div",k,[Object(o["createVNode"])(K,{modelValue:e.actions,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.actions=t})},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.action,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(G,{key:t,label:e.value},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.text+"("+e.value+")"),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"])])])]),Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(U,{onClick:e.handleCheckAll,size:"mini",type:"success",plain:""},{default:Object(o["withCtx"])((function(){return[C,x]})),_:1},8,["onClick"]),Object(o["createVNode"])(U,{onClick:t[4]||(t[4]=function(t){return e.actionModel=!0}),size:"mini",type:"primary",plain:""},{default:Object(o["withCtx"])((function(){return[V,N]})),_:1})]),Object(o["createElementVNode"])("div",w,[Object(o["createVNode"])(U,{type:"primary",onClick:e.save},{default:Object(o["withCtx"])((function(){return[B,I]})),_:1},8,["onClick"]),Object(o["createVNode"])(U,{type:"success",onClick:e.add},{default:Object(o["withCtx"])((function(){return[E,S]})),_:1},8,["onClick"]),Object(o["createVNode"])(U,{type:"warning",onClick:e.addChild},{default:Object(o["withCtx"])((function(){return[_,T]})),_:1},8,["onClick"]),Object(o["createVNode"])(U,{type:"primary",plain:"",onClick:e.addBrother},{default:Object(o["withCtx"])((function(){return[F,M]})),_:1},8,["onClick"]),Object(o["createVNode"])(U,{type:"warning",plain:"",onClick:e.delMenu},{default:Object(o["withCtx"])((function(){return[A,z]})),_:1},8,["onClick"])])])]})),_:1})])])}n("b0c0"),n("d81d"),n("4de4"),n("159b"),n("a434");var $=n("6e5b"),D=n("0d63"),U={"data-v-394040b0":"",class:"icons"},R=["onClick"];function J(e,t,n,c,l,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",U,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.icons,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{onClick:function(e){return i.select(t)},key:t,class:"icons-item"},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])([e,l.selectIndex==t?"active":""]),style:{"font-size":"32px"}},null,2),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(e),1)],8,R)})),128))])}var L={props:{onSelect:{type:Function,default:function(){return""}}},methods:{select:function(e){this.selectIndex=e,this.onSelect(e<0?"":this.icons[e])}},data:function(){return{selectIndex:-1,icons:["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"]}}},H=(n("b6b3"),n("6b0d")),P=n.n(H);const G=P()(L,[["render",J],["__scopeId","data-v-243b8a51"]]);var K=G,Q=n("5d9b"),W=n("c1fb"),X=Object(o["defineComponent"])({components:{VolForm:$["a"],VolBox:D["default"],Icons:K,VolMenu:Q["a"]},methods:{otherAction:function(){var e=this;this.$refs.actionForm.validate((function(){var t=e.action.some((function(t){return t.text==e.actionFields.name||t.value==e.actionFields.value}));if(t)return e.$message.error("权限名称或权限值已存在");e.actionModel=!1,e.action.push({text:e.actionFields.name,value:e.actionFields.value})}))},handleCheckAll:function(){this.actions==this.action.length?this.checkAll=!1:this.checkAll=!this.checkAll,this.checkAll?this.actions=this.action.map((function(e){return e.value})):this.actions=[]},checkAllGroupChange:function(e){e.length===this.action.length?this.checkAll=!0:(e.length,this.checkAll=!1)},add:function(e){this.$refs.form.reset(Object.assign({enable:1},e||{parentId:0})),this.icon="",this.actions=["Search"]},addChild:function(){this.isSelect()&&this.add({parentId:this.fields.menu_Id})},addBrother:function(){this.isSelect()&&this.add({parentId:this.fields.parentId})},delMenu:function(){var e=this;if(0==this.fields.menu_Id)return this.$Message.error("请选择菜单");var t=!1;this.$confirm("确认要删除【"+this.fields.menuName+"】菜单吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){if(!t){t=!0;var n=e.fields.menu_Id;e.http.post("/api/menu/delMenu?menuId="+n,{},"正在删除数据....").then((function(t){if(!t.status)return e.$Message.error(t.message);e.$refs.form.reset(),e.$Message.info(t.message),e.initTree()}))}}))},save:function(){var e=this;this.$refs.form.validate((function(){e.fields.auth="",e.actions&&(e.fields.auth=e.action.filter((function(t){return-1!=e.actions.indexOf(t.value)}))),e.fields.auth&&e.fields.auth instanceof Array&&e.fields.auth.length>0?e.fields.auth=JSON.stringify(e.fields.auth):e.fields.auth="",e.http.post("/api/menu/save",e.fields,!0).then((function(t){t.status?(e.$Message.info(t.message),e.fields.menu_Id?e.tree.forEach((function(t){t.id==e.fields.menu_Id&&(t.name=e.fields.menuName,t.orderNo=e.fields.orderNo,t.parentId=e.fields.parentId)})):(e.fields.menu_Id=t.data.menu_Id,e.fields.createDate=t.data.createDate,e.tree.push({id:t.data.menu_Id,name:e.fields.menuName,orderNo:e.fields.orderNo,parentId:e.fields.parentId}))):e.$Message.error(t.message)}))}))},isSelect:function(){var e=this.fields.menu_Id;return!!e||(this.$message.error("请选择节点"),!1)},onSelect:function(e){this.fields.icon=e,this.$message.info(e)},onOpenChange:function(e){0!=e.length&&this.getTreeItem(e[e.length>1?e.length-1:0])}},setup:function(){var e=Object(o["ref"])([]),t=Object(o["ref"])([]),n=Object(o["ref"])([{text:"查询",value:"Search"},{text:"新建",value:"Add"},{text:"删除",value:"Delete"},{text:"编辑",value:"Update"},{text:"导入",value:"Import"},{text:"导出",value:"Export"},{text:"上传",value:"Upload"},{text:"审核",value:"Audit"}]),c=Object(o["ref"])([]);t.value=n.value.map((function(e){return e.value}));var l=function(){W["a"].post("/api/menu/getMenu",{},!0).then((function(t){t.forEach((function(e){e.icon="el-icon-menu",1!=e.menuType||e.parentId||(e.name="(app)"+e.name)})),e.value=t}))};Object(o["onMounted"])((function(){l()}));var i=Object(o["ref"])(!1),r=Object(o["ref"])(!1),a=Object(o["ref"])(!1),u=Object(o["ref"])({menu_Id:0,parentId:0,menuName:"",tableName:"",url:"",auth:"",icon:"",orderNo:"",enable:1,menuType:null,createDate:"",creator:"",modifyDate:""}),d=Object(o["ref"])({name:"",value:""}),s=Object(o["ref"])([[{title:"权限名称",field:"name",placeholder:"权限名称,如：新增",required:!0}],[{title:"权 限 值",field:"value",placeholder:"权限值,如：Add",required:!0}]]),f=Object(o["ref"])([[{title:"菜 单 ID",field:"menu_Id",placeholder:"菜单ID",min:0,disabled:!0},{title:"父 级 ID",required:!0,type:"number",min:0,field:"parentId"},{title:"菜单名称",field:"menuName",required:!0}],[{title:"视图/表名",field:"tableName",placeholder:"与代码生成器使用的名称相同",required:!0},{title:"(路由)Url",field:"url",placeholder:"见:上面菜单配置说明"},{title:"排序号",field:"orderNo",type:"number",min:0,placeholder:"值越大显示越靠前",required:!0}],[{title:"是否启用",field:"enable",required:!0,type:"select",colSize:4,data:[{key:1,value:"启用"},{key:2,value:"启用不显示"},{key:0,value:"禁用"}]},{title:"菜单类型",field:"menuType",required:!0,type:"select",colSize:4,data:[{key:0,value:"PC菜单"},{key:1,value:"移动端菜单"}]},{title:"图标Icon",field:"icon",render:function(e){return e("div",{},[e("i",{style:{"font-size":"25px",margin:"0px 9px",position:"relative",top:"4px"},class:[u.value.icon]}),e(Object(o["resolveComponent"])("el-button"),{size:"small",style:{padding:"0px 9px"},type:"primary",plain:!0,onClick:function(){a.value=!0}},"选择图标")])}}]]),b=Object(o["ref"])(),m=function(e){W["a"].post("api/menu/getTreeItem?menuId="+e,{},!0).then((function(e){try{u.value.icon=e.icon,e.auth?(e.auth=JSON.parse(e.auth),n.value.splice(8,n.value.length),c.value=e.auth.map((function(e){return-1==t.value.indexOf(e.value)&&n.value.push(e),e.value}))):(n.value.splice(8,n.value.length),e.auth=[],u.value.icon="",c.value=[])}catch(o){console.log("菜单功能权限转换成JSON失败:"+e.auth),e.auth=[],c.value=[]}b.value.reset(e)}))};return{tree:e,initTree:l,action:n,actions:c,actionValues:t,actionModel:i,checkAll:r,model:a,fields:u,actionFields:d,actionOptions:s,options:f,form:b,getTreeItem:m}},data:function(){return{}}});n("4e73");const Y=P()(X,[["render",q],["__scopeId","data-v-5728659a"]]);t["default"]=Y},"4e73":function(e,t,n){"use strict";n("de62")},"5d9b":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),c=function(e){return Object(o["pushScopeId"])("data-v-4dcf96c8"),e=e(),Object(o["popScopeId"])(),e},l={class:"vol-el-menu"},i={key:0,class:"menu-search"},r=c((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-search"},null,-1)}));function a(e,t,n,c,a,u){var d=Object(o["resolveComponent"])("el-option"),s=Object(o["resolveComponent"])("el-select"),f=Object(o["resolveComponent"])("vol-element-menu-child"),b=Object(o["resolveComponent"])("el-sub-menu"),m=Object(o["resolveComponent"])("el-menu-item"),p=Object(o["resolveComponent"])("el-menu");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[e.showSearch?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createVNode"])(s,{placement:"bottom",modelValue:e.searchValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchValue=t}),clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键字搜索...","remote-method":e.remoteMethod,onChange:e.selectChange,loading:e.loading},{prefix:Object(o["withCtx"])((function(){return[r]})),default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.options,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","remote-method","onChange","loading"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{close:"vol-el-menu--vertical","default-openeds":e.openedIds,"default-active":e.defaultActive,"unique-opened":!0,onSelect:e.select,collapse:e.isCollapse,onOpen:e.handleOpen,onClose:e.handleClose,onContextmenu:Object(o["withModifiers"])(e.bindRightClickMenu,["prevent"])},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.convertTree(e.list),(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[!t.children.length||e.enable&&1!=t.enable?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[e.enable&&1!=t.enable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(m,{class:"menu-item-lv1",key:t.id,index:""+t.id},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(t.icon)},null,2),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.name),1)]})),_:2},1032,["index"]))],64)):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:t.id,index:""+t.id},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["menu-icon",t.icon])},null,2),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.name),1)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{enable:e.enable,list:t.children},null,8,["enable","list"])]})),_:2},1032,["index"]))],64)})),256))]})),_:1},8,["default-openeds","default-active","onSelect","collapse","onOpen","onClose","onContextmenu"])])}var u=n("2909"),d=(n("a9e3"),n("159b"),n("a434"),n("d81d"),n("7db0"),n("fb6a"),n("4de4"),n("c740"),{class:"vol-el-menu-item"});function s(e,t,n,c,l,i){var r=Object(o["resolveComponent"])("el-menu-item"),a=Object(o["resolveComponent"])("vol-element-menu-child",!0),u=Object(o["resolveComponent"])("el-sub-menu");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.list,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[e.children&&e.children.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[e.children.length||n.enable&&1!=e.enable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:e.id,index:""+e.id},{title:Object(o["withCtx"])((function(){return[]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.name),1)]})),_:2},1032,["index"])),!e.children.length||n.enable&&1!=e.enable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:e.id,index:""+e.id},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.name),1)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{enable:n.enable,list:e.children},null,8,["enable","list"])]})),_:2},1032,["index"]))],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[n.enable&&1!=e.enable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:e.id,index:""+e.id},{title:Object(o["withCtx"])((function(){return[]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.name),1)]})),_:2},1032,["index"]))],64))],64)})),256))])}var f={name:"vol-element-menu-child",props:{list:{type:Array,default:[]},enable:{type:Boolean,default:!1}}},b=(n("67fa"),n("6b0d")),m=n.n(b);const p=m()(f,[["render",s],["__scopeId","data-v-4b9b70e0"]]);var h=p,O=n("6c02"),j=Object(o["defineComponent"])({components:{"vol-element-menu-child":h},props:{enable:{type:Boolean,default:!1},isCollapse:{type:Boolean,default:!1},onSelect:{type:Function,default:function(e){}},openSelect:{type:Boolean,default:!0},list:{type:Array,default:[]},rootId:{type:String,default:"0"},currentMenuId:{type:Number,default:0}},setup:function(e){var t=function e(t,n,o){n.children||(n.children=[]),o.forEach((function(c){c.parentId!=t||n.children.some((function(e){return e.id===c.id}))||(n.children.push(c),e(c.id,c,o))}))},n=isNaN(e.rootId)?e.rootId:~~e.rootId;e.list.forEach((function(e){e.icon&&"el-"==e.icon.substring(0,3)||(e.icon="el-icon-menu"),e.children=[],e.isRoot=e.parentId===n}));var c=function(e){var o=[];return e.forEach((function(c){c.parentId===n&&(c.hasOwnProperty("enable")||(c.enable=1),o.push(c),t(c.id,c,e))})),o},l=Object(o["reactive"])([e.currentMenuId]),i=Object(o["ref"])(e.currentMenuId+""),r=Object(o["getCurrentInstance"])().appContext.config.globalProperties.base;Object(o["watch"])((function(){return e.currentMenuId}),(function(t,n){i.value=t+"",l.splice(0),l.push.apply(l,Object(u["a"])(r.getTreeAllParent(t,e.list).map((function(e){return e.id}))))}));var a=Object(O["c"])(),d=!1,s=function(t,n){n=e.list.find((function(e){return e.id==t})),1!=n.linkType?d||(d=!0,setTimeout((function(){d=!1}),20),e.onSelect(t,n),a.push({path:n.path||"",query:n.query})):window.open(n.url||n.path,"_blank")},f=function(t,n){e.openSelect&&s(t,n)},b=function(){},m=function(e){},p=Object(o["getCurrentInstance"])(),h=p.proxy,j=Object(o["ref"])(!1),v=Object(o["ref"])(""),g=Object(o["ref"])([]),k=function(t){t?g.value=e.list.filter((function(e){return(1==e.enable||void 0===e.enable)&&-1!=e.name.indexOf(t)&&(!e.children||!e.children.length)})).map((function(e){return{value:e.id,label:e.name}})).slice(0,7):g.value.length=0},y=function(t){if(t){var n=e.list.findIndex((function(e){return e.id===t}));-1!==n&&(v.value="",h.list.some((function(e){return e.parentId===t}))||s(t,e.list[n]))}},C=Object(o["ref"])(void 0===h.$global.menuSearch||h.$global.menuSearch);return{select:s,convertTree:c,handleOpen:f,handleClose:b,bindRightClickMenu:m,openedIds:l,defaultActive:i,searchValue:v,options:g,remoteMethod:k,loading:j,selectChange:y,showSearch:C}}});n("1859");const v=m()(j,[["render",a],["__scopeId","data-v-4dcf96c8"]]);t["a"]=v},"64ba":function(e,t,n){},"67fa":function(e,t,n){"use strict";n("64ba")},7848:function(e,t,n){},"9d79":function(e,t,n){},a80f:function(e,t,n){"use strict";n("f3c5")},ac57:function(e,t,n){},b6b3:function(e,t,n){"use strict";n("ac57")},de62:function(e,t,n){},f3c5:function(e,t,n){}}]);